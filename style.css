:root {
  --bg: #0f172a;          /* slate-900 */
  --panel: #111827;       /* gray-900 */
  --text: #e5e7eb;        /* gray-200 */
  --muted: #94a3b8;       /* slate-400 */
  --accent: #22c55e;      /* green-500 */
  --accent-2: #60a5fa;    /* blue-400 */
  --card: #1f2937;        /* gray-800 */
  --card-border: #334155; /* slate-700 */
  --focus: #f59e0b;       /* amber-500 */
}

.instructions {
  transition: opacity 0.5s ease-out;
}

.instructions.hide {
  opacity: 0;
  pointer-events: none;
}


* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background: radial-gradient(1200px 600px at 50% -10%, #1e293b, var(--bg));
  color: var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, Noto Sans, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}

.wrap {
  max-width: 960px;
  margin: 0 auto;
  padding: 1rem;
}

h1 { margin: .5rem 0 0 0; font-weight: 800; letter-spacing: 0.2px; }
header .controls, header .stats {
  display: flex; gap: .75rem; align-items: center; flex-wrap: wrap; margin-top: .5rem;
}
header .stats div { background: #0b1222; padding: .4rem .7rem; border-radius: .6rem; color: var(--muted); }

label { color: var(--muted); font-size: .95rem; }
select {
  background: var(--panel); color: var(--text); border: 1px solid var(--card-border);
  padding: .5rem .7rem; border-radius: .6rem;
}

.btn {
  background: linear-gradient(180deg, var(--accent-2), #3b82f6);
  color: white; border: none; padding: .55rem .9rem; border-radius: .7rem; cursor: pointer; font-weight: 600;
  box-shadow: 0 8px 20px rgba(59,130,246,.25);
}
.btn:hover { transform: translateY(-1px); }
.btn:active { transform: translateY(0); }
.btn-ghost {
  background: transparent; border: 1px solid var(--card-border); color: var(--text);
}

.grid {
  display: grid;
  gap: .75rem;
  margin: 1rem 0 2rem 0;
  justify-content: center;
}
.grid.easy   { grid-template-columns: repeat(4, min(130px, 20vw)); }
.grid.medium { grid-template-columns: repeat(6, min(100px, 14vw)); }
.grid.hard   { grid-template-columns: repeat(6, min(90px, 13vw)); }

.card {
  width: 100%; aspect-ratio: 3 / 4; perspective: 900px; position: relative;
}
.card-inner {
  position: absolute; inset: 0; border-radius: 1rem; border: 1px solid var(--card-border);
  background: var(--card); display: grid; place-items: center; font-size: clamp(1.6rem, 4vw, 2.6rem);
  transform-style: preserve-3d; transition: transform .5s;
  box-shadow: 0 6px 24px rgba(0,0,0,0.35);
}
.card-front, .card-back {
  position: absolute; inset: 0; display: grid; place-items: center; backface-visibility: hidden; border-radius: 1rem;
}
.card-front { transform: rotateY(0deg); }
.card-back { transform: rotateY(180deg); }
.card[data-state="flipped"] .card-inner,
.card[data-state="matched"] .card-inner { transform: rotateY(180deg); }

.card:focus { outline: 3px dashed var(--focus); outline-offset: 4px; }

.dialog::backdrop { background: rgba(0,0,0,.6); }
.dialog {
  background: #0b1222; color: var(--text); border: 1px solid var(--card-border);
  border-radius: 1rem; padding: 1.2rem 1rem; width: min(480px, 90vw);
}
.dialog-actions { display: flex; gap: .5rem; margin-top: .5rem; flex-wrap: wrap; }

.foot { color: var(--muted); margin-bottom: 2rem; }

/* Small screens */
@media (max-width: 480px) {
  .grid.easy   { grid-template-columns: repeat(4, 22vw); }
  .grid.medium { grid-template-columns: repeat(4, 22vw); } /* auto wraps; still playable */
  .grid.hard   { grid-template-columns: repeat(6, 14vw); }
}

.instructions {
  background: var(--panel);
  color: var(--text);
  border-radius: 1rem;
  padding: 1rem 1.5rem;
  margin-top: 1rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
}
.instructions h2 {
  margin-top: 0;
  color: var(--accent-2);
}
.instructions ol {
  padding-left: 1.2rem;
}
.instructions li {
  margin-bottom: 0.4rem;
}
.instructions p {
  margin-top: 0.8rem;
  color: var(--muted);
}
